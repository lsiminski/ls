/**
*	Avalanche Slider
*	Version: 1.1.9
*	URL: @ThemeMountain
*	Description: Content Slider
*	Requires: jQuery 1.10+
*	Author: ThemeMountain
*	Copyright: Copyright 2016 ThemeMountain
*	License: Attribution-NonCommercial 3.0 (http://creativecommons.org/licenses/by-nc/3.0/)
*/
!function(a,e,t,i){"use strict";function s(e){e.find(".tms-caption").each(function(){function e(){a.each(i,function(a,e){e=e.split(":");var i=e[0],s=e[1];"opacity"===i&&t.data("o",s),"scale"===i&&t.data("s",s),"easing"===i&&t.data("e",s),"transX"===i&&t.data("tx",parseFloat(s)),"transY"===i&&t.data("ty",parseFloat(s)),"transZ"===i&&t.data("tz",parseFloat(s)),"rotateX"===i&&t.data("rx",parseFloat(s)),"rotateY"===i&&t.data("ry",parseFloat(s)),"rotateZ"===i&&t.data("rz",parseFloat(s)),"transOrigX"===i&&t.data("ox",s),"transOrigY"===i&&t.data("oy",s),"duration"===i&&t.data("du",parseFloat(s)),"delay"===i&&t.data("de",parseFloat(s))})}var t=a(this),i=String(t.data("animate-in")).split(";");t.is("[data-no-scale]")?t.addClass("no-scale"):t.addClass("scale"),t.parent().addClass("tms-perspective"),-1!=a.inArray("preset",String(i).split(":"))?i.filter(function(t){if("preset"===t.split(":")[0]){i.splice(a.inArray(t,i),1);var s=String(M[t.split(":")[1]]).split(";");i=a.merge(s,i).filter(Boolean),e()}}):e(),t.data("w",parseFloat(t.css("width"))),t.data("h",parseFloat(t.css("height"))),t.data("fs",parseFloat(t.css("font-size"))),t.data("lh",parseFloat(t.css("line-height"))),t.data("pt",parseFloat(t.css("padding-top"))),t.data("pr",parseFloat(t.css("padding-right"))),t.data("pb",parseFloat(t.css("padding-bottom"))),t.data("pl",parseFloat(t.css("padding-left"))),t.data("mt",parseFloat(t.css("margin-top"))),t.data("mr",parseFloat(t.css("margin-right"))),t.data("mb",parseFloat(t.css("margin-bottom"))),t.data("ml",parseFloat(t.css("margin-left"))),t.data("bt",parseFloat(t.css("border-top-width"))),t.data("br",parseFloat(t.css("border-right-width"))),t.data("bb",parseFloat(t.css("border-bottom-width"))),t.data("bl",parseFloat(t.css("border-left-width")))})}function n(e,i,s){var n=e.find(".tms-slide"),o=0;n.each(function(){var n=a(this),d=n.find("img").length,l=n.find("iframe, video").length;n.children(".tms-caption").length;w(n,i);var c=a('<div class="tm-loader"><div id="circle" /></div>');if(d>0&&(i.lazyLoad?c.appendTo(n):a(e).find(".tm-loader").length||c.appendTo(e)),l){X&&n.is("[data-video-bkg]")&&n.children("video").css({display:"none"});var u=n.find("iframe, video");k(e,u,i),b(n,i),v(e,i)}d?n.find("img").each(function(e,l){l=a(this).data("src");var c=l,u=l.substr(l.lastIndexOf("."));if((t.isRetinaDevice()&&i.retinaSupport||t.isRetinaDevice()&&a(this).is("[data-retina]"))&&(!X&&!i.retinaSupportMobile||X&&i.retinaSupportMobile)&&(l.match(/\.(svg)/i)||(l=a(this).data("retina")?a(this).data("retina"):a(this).data("src").replace(u,i.retinaSuffix+u))),n.data("overlay-bkg-color")&&!n.find(".tms-overlay").length)var p=n.data("overlay-bkg-color").replace("#",""),h=n.data("overlay-bkg-opacity")?n.data("overlay-bkg-opacity"):.5,g=parseInt(p.substring(0,2),16),f=parseInt(p.substring(2,4),16),m=parseInt(p.substring(4,6),16),v="rgba( "+g+","+f+","+m+","+h/1+" )",b=a('<div class="tms-overlay" />').css({backgroundColor:v,opacity:0}).appendTo(n);a(this).css({opacity:0}).attr("src",l).one("error",function(){a(this).attr("src",c),console.log("Error src:"+l)}).one("load",function(){n.css({transition:"none",opacity:0}),n.find(b).css({opacity:1}),a(this).data("loaded",!0).css({opacity:1}),e++,e===d&&(o++,r(n,o,i,s))})}):(o++,v(e,i),r(n,o,i,s))})}function r(e,t,i,s){var n=e.closest(".tm-slider-container"),r=n.find(".tms-slides"),d=n.find("li.active"),l=null,c=null,u=e.is("[data-video-bkg-youtube]")||e.is("[data-video-bkg-vimeo]")?!0:!1;if(e.find(".no-transition").css({visibility:"visible"}),n.data("setup",!0),n.data("first-load",!1),n.data("animate-first-slide",!0),e.is("[data-as-bkg-image]")||e.is("[data-video-bkg]")||u){var h=e.children("img").attr("src"),f=e.data("image-wrapper")?e.data("image-wrapper"):e;e.data("image-wrapper")?e.find("."+f).css({"background-image":"url("+h+")"}):e.css({"background-image":"url("+h+")"}),e.children("img").hide()}if(0===n.height()&&!n.data("height")&&e.hasClass("active")){d.children("img").css({maxHeight:"none"});var m=d.children("img").height();n.data("refH",m),n.css({height:m+"px"}),d.children("img").css({maxHeight:"100%"})}if(b(e,i),v(n,i),i.carousel&&!i.lazyLoad&&(r.children().css({opacity:1}),r.css({opacity:0})),u||e.find("iframe, video").css({opacity:1}),t===r.children().length&&i.onLoadEnd&&i.onLoadEnd(),i.lazyLoad||t!==r.children().length?i.lazyLoad&&1===t&&(n.data("loaded",!0),i.autoAdvance&&s.initSlideshow()):(n.data("loaded",!0),i.autoAdvance&&s.initSlideshow()),i.lazyLoad){if((e.find(".tm-loader").length&&!u||X)&&o(n,e,i),(e.is(d)||i.carouselVisible>1)&&e.find(".tms-caption").show(),!e.hasClass("active"))return!1;A?(clearTimeout(c),c=setTimeout(function(){p(d,1,0,0,0,0,0,0,1,"50%","50%",1e3,0,"easeIn",i)},50)):e.animate({opacity:1}),(!u||X)&&(clearTimeout(l),l=setTimeout(function(){d.find(".tms-caption").length>0&&g(d,i),d.find(".tms-content-scalable").length>0&&a(".tms-content-scalable").css({opacity:1})},300))}else t===r.children().length&&((n.find(".tm-loader").length&&!u||X)&&o(n,e,i),d.find(".tms-caption").show(),i.carouselVisible>1&&n.find(".tms-caption").show(),A?i.carousel?p(r,1,0,0,0,0,0,0,1,"50%","50%",1e3,0,"easeIn",i):p(d,1,0,0,0,0,0,0,1,"50%","50%",1e3,0,"easeIn",i):i.carousel?r.animate({opacity:1}):d.animate({opacity:1}),(!u||X)&&(clearTimeout(l),l=setTimeout(function(){d.find(".tms-caption").length>0&&g(d,i),d.find(".tms-content-scalable").length>0&&a(".tms-content-scalable").css({opacity:1})},300)),n.find(".tms-arrow-nav, .tms-pagination").css({display:"block"}))}function o(a,e,t){var i=".tm-loader";t.lazyLoad?e.find(i).remove():a.find(i).remove()}var d=function(i,r){var o,d=a.extend({},a.fn.avalancheSlider.tmsOpts,r),u=a(i),g=this,y=d.fulscreen?a(t).width():d.fullwidth?d.scaleUnder:u.data("width")?parseFloat(u.data("width")):parseFloat(u.css("width")),x=d.fulscreen?a(t).height():u.data("height")?parseFloat(u.data("height")):parseFloat(u.css("height")),S=u.find(".tms-slides"),O=S.children("li:first-child").addClass("active"),F=[];if(S.children(".tms-slide").each(function(e){e++,a(this).attr("id","tms-slide-"+e),F.push(a(this).attr("id")),d.carousel||(A?a(this).not(".active").css({transition:"none",transform:"translate3d( 100%, 0, 0)"}):a(this).not(".active").css({left:"100%"}));var t=a(this).is("[data-video-bkg]")||a(this).is("[data-video-bkg-youtube]")||a(this).is("[data-video-bkg-vimeo]")?!0:!1;(d.forceFit||a(this).is("[data-force-fit]")||t)&&a(this).addClass("tms-forcefit"),t&&a(this).addClass("tms-bkg-video"),a(this).is("[data-video-bkg-youtube]")&&a(this).addClass("tms-bkg-video-youtube"),a(this).is("[data-video-bkg-vimeo]")&&a(this).addClass("tms-bkg-video-vimeo")}),d.lazyLoad||O.css({opacity:0}),d.scaleUnder=u.data("scale-under")?u.data("scale-under"):d.scaleUnder,d.scaleMinHeight=u.data("scale-min-height")?u.data("scale-min-height"):d.scaleMinHeight,d.animation=u.data("animation")?u.data("animation"):d.animation,o=d.animation,d.easing=u.data("easing")?u.data("easing"):d.easing,d.speed=u.data("speed")?u.data("speed"):d.speed,d.carousel=u.data("carousel")?u.data("carousel"):d.carousel,d.carouselVisible=u.data("carousel-visible-slides")?u.data("carousel-visible-slides"):d.carouselVisible,d.carouselVisible=d.carouselVisible>S.children().length?S.children().length:d.carouselVisible,d.showProgressBar=u.is('[data-progress-bar="false"]')?!1:d.showProgressBar,d.autoAdvance=u.is("[data-auto-advance]")?!0:d.autoAdvance,d.interval=u.data("auto-advance-interval")?u.data("auto-advance-interval"):d.interval,d.pauseOnHover=u.is('[data-pause-on-hover="false"]')?!1:d.pauseOnHover,d.navArrows=u.is('[data-nav-arrows="false"]')?!1:d.navArrows,d.navPagination=u.is('[data-nav-pagination="false"]')?!1:d.navPagination,d.navShowOnHover=u.is('[data-nav-show-on-hover="false"]')?!1:d.navShowOnHover,d.navKeyboard=u.is('[data-nav-keyboard="false"]')?!1:d.navKeyboard,(u.is("[data-nav-dark]")||O.is("[data-nav-dark]"))&&(u.addClass("tms-nav-dark"),u.is("[data-featured-slider]")&&a("header").addClass("nav-dark")),d.fullscreen&&(u.css({top:0,left:0}).addClass("tms-fullscreen"),d.carouselVisible=1,d.fsUseHeightOf=d.fsUseHeightOf||u.data("fs-use-height")?d.fsUseHeightOf&&!u.data("fs-use-height")?d.fsUseHeightOf:u.data("fs-use-height"):"",d.fsUseHeightOf=d.fsUseHeightOf?"parent"===d.fsUseHeightOf?u.parent():u.closest("."+d.fsUseHeightOf):""),d.parallax=u.is("[data-parallax]")?!0:d.parallax,d.parallaxSpeed=u.data("parallax-speed")?u.data("parallax-speed"):d.parallaxSpeed,d.parallaxScale=u.is("[data-parallax-scale-out]")||u.is("[data-parallax-scale-in]")?!0:d.parallaxScale,d.parallaxFadeOut=u.is("[data-parallax-fade-out]")?!0:d.parallaxFadeOut,d.captionScaling||u.addClass("tms-caption-no-scaling"),!d.carousel&&d.carouselVisible&&(d.carouselVisible=1),d.carouselVisible>1&&(d.animation="slide"),d.carousel&&u.addClass("tms-carousel"),d.carouselScaleHeight&&u.addClass("tms-scalable-height"),d.autoPlay=u.is('[data-video-auto-play="false"]')?!1:d.autoPlay,d.replayOnEnd=u.is('[data-replay-on-end="false"]')?!1:d.replayOnEnd,d.muteBkgVideo=u.is("[data-mute-video]")?!0:d.muteBkgVideo,X&&(d.autoPlay=!1,d.useVideoAPI=!1),d.navShowOnHover&&u.addClass("show-on-hover"),d.navArrows&&S.children().length>1){var k=a('<a href="#" />').attr("id","tms-prev").addClass("tms-arrow-nav").appendTo(u),C=a('<a href="#" />').attr("id","tms-next").addClass("tms-arrow-nav").appendTo(u);k.each(function(){a(this).on("click",function(a){a.preventDefault(),d.autoAdvance&&u.data("loaded")&&g.resetSlideshow(),g.prevSlide()})}),C.each(function(){a(this).on("click",function(a){a.preventDefault(),d.autoAdvance&&u.data("loaded")&&g.resetSlideshow(),g.nextSlide()})}),d.lazyLoad&&u.addClass("lazyload").find(".tms-arrow-nav").css({display:"block"})}if(d.navPagination&&S.children().length>1){for(var T=a("<div>").addClass("tms-pagination").appendTo(u),z=1;z<S.children().length+1;z++)u.find(T).append('<a href="#" id="tms-pagination-'+z+'" data-index="'+z+'" class="tms-bullet-nav" />');var H="bullets"===d.paginationType?u.find(".tms-bullet-nav"):u.find(".tms-thumb-nav");H.each(function(){a(this).on("click",function(){return O=u.find("li.active"),a(this).hasClass("active")?!1:(d.autoAdvance&&u.data("loaded")&&g.resetSlideshow(),parseFloat(a(this).data("index"))>parseFloat(T.find(".active").data("index"))?g.slideTo(a(this).data("index"),"next"):g.slideTo(a(this).data("index"),"prev"),!1)})}),T.find(".tms-bullet-nav:first-child").addClass("active"),d.lazyLoad&&T.css({display:"block"})}if(d.navKeyboard&&S.children().length>1){var V=[];a(e).on("keydown",function(a){return V[a.keyCode]=!0,V[37]&&V[39]?!1:void(V[37]?(d.autoAdvance&&u.data("loaded")&&g.resetSlideshow(),d.lazyLoad?g.prevSlide():u.data("loaded")&&g.prevSlide()):V[39]&&(d.autoAdvance&&u.data("loaded")&&g.resetSlideshow(),d.lazyLoad?g.nextSlide():u.data("loaded")&&g.nextSlide()))}).on("keyup",function(a){V[a.keyCode]=!1})}u.swipeIt({draggable:!1,onSwipeMove:function(a){},onSwipeEnd:function(a){"left"===a?g.prevSlide():g.nextSlide()}}),a(t).on("resize",function(){u.data("first-load")&&(y=d.fulscreen?a(t).width():d.fullwidth?d.scaleUnder:u.data("width")?parseFloat(u.data("width")):parseFloat(u.css("width")),x=d.fulscreen?a(t).height():u.data("height")?parseFloat(u.data("height")):parseFloat(u.css("height")),u.data("refW",y).data("refH",x).data("carousel-height",x));var e=u.find("li.active, li.target");d.carousel&&d.carouselVisible>1?S.children(".tms-slide").each(function(){b(a(this),d)}):b(e,d),v(u,d),u.addClass("resizing"),I(function(){u.removeClass("resizing")},300,"resize")}),u.parent().hasClass("tm-slider-parallax-container")&&d.parallax?(a(t).on("scroll",function(){l(u,d)}),c(u,d)):!u.parent().hasClass("tm-slider-parallax-container")&&d.parallax&&console.log("Add the class tm-slider-parallax-container to slider parent"),u.data("setup",!1).data("loaded",!1).data("first-load",!0).data("scale-first",!0).data("transitioning",!1).data("refW",y).data("refH",x).data("carousel-height",x),s(u),v(u,d),d.onSetup&&d.onSetup(),g.resizeSlider=function(){var a=u.find("li.active, li.target");b(a,d),v(u,d)};var B,Y,M,E,L,D,R,U=null,W=null;g.initSlideshow=function(){return B||S.children().length<2?!1:(d.autoAdvance=!0,!X&&d.pauseOnHover&&(S.on("mouseleave ",g.resumeSlideshow),S.on("mouseenter ",g.pauseSlideshow)),d.showProgressBar&&(R=a("<div>").addClass("tms-progress-bar").appendTo(u)),g.startSlideshow(),Q(d.interval),Y=(new Date).getTime(),L=d.interval,void(d.onSlideshowStart&&d.onSlideshowStart()))},g.startSlideshow=function(a){a=a?E:d.interval,B=setInterval(function(){a!==d.interval&&(clearInterval(B),a=d.interval,L=d.interval,g.startSlideshow()),Y=(new Date).getTime(),"undefined"!=typeof R&&R.css({transition:"none",width:"0px"}),Q(d.interval),g.nextSlide()},a)},g.pauseSlideshow=function(){return D||!B?!1:(clearInterval(B),M=(new Date).getTime(),E=50>L-(M-Y)?50:L-(M-Y),L=0===L?d.interval:E,"undefined"!=typeof R&&R.stop().css({width:R.width()+"px"}),D=!0,void(d.onSlideshowPause&&d.onSlideshowPause()))},g.resumeSlideshow=function(){return D?(clearInterval(B),u.data("ssPaused",!1),Y=(new Date).getTime(),Q(E),g.startSlideshow(E),void(D=!1)):!1},g.resetSlideshow=function(){return B?(clearInterval(B),"undefined"!=typeof R&&R.css({transition:"none",width:"0px"}),Q(d.interval),Y=(new Date).getTime(),E=d.interval,L=d.interval,void g.startSlideshow(d.interval)):!1},g.endSlideshow=function(){return B?(clearInterval(B),B="",D=!1,!X&&d.pauseOnHover&&(S.off("mouseleave ",g.resumeSlideshow),S.off("mouseenter ",g.pauseSlideshow)),"undefined"!=typeof R&&R.remove(),void(d.onSlideshowEnd&&d.onSlideshowEnd())):!1};var Q=function(a){return"undefined"==typeof R?!1:void(A?(clearTimeout(U),U=setTimeout(function(){R.css({transitionProperty:"width",width:"100%",transitionDuration:a+"ms",transitionTimingFunction:"ease"})},50)):R.stop(!0,!0).animate({width:"100%"},a))};g.nextSlide=function(){if(u.data("transitioning"))return!1;var e;O=u.find("li.active");var t=F[a.inArray(O.attr("id"),F)+1];if(e=a.inArray(t,F)+1===0?1:a.inArray(t,F)+1,d.carousel&&d.carouselVisible>1){var i=m(u,d);1!==i&&(e=e===S.children().length-(i-2)?1:a.inArray(t,F)+1)}this.slideTo(e,"next")},g.prevSlide=function(){if(u.data("transitioning"))return!1;var e;O=u.find("li.active");var t=F[a.inArray(O.attr("id"),F)-1];if(e=a.inArray(t,F)+1===0?S.children().length:a.inArray(t,F)+1,d.carousel&&d.carouselVisible>1){var i=m(u,d);e=e===S.children().length?S.children().length-(i-1):a.inArray(t,F)+1}this.slideTo(e,"prev")},g.slideTo=function(e,t){if(u.data("first-load",!1),u.data("scale-first",!1),t||(O=u.find("li.active")),u.data("transitioning")||e===a.inArray(O.attr("id"),F)+1)return!1;f(u,e);var i=u.width(),s=u.height(),n=u.find("#tms-slide-"+e);n.addClass("target").css({zIndex:2,opacity:0===r?0:1}),O.css({zIndex:1}),d.animation=n.data("animation")?n.data("animation"):o;var r="slide"===d.animation||"slideLeftRight"===d.animation?i:0,c="slideTopBottom"===d.animation?s:0;r*=d.carousel?e-1:1;var g="scaleIn"===d.animation?1-d.scaleFactor:"scaleOut"===d.animation?1+d.scaleFactor:1;u.is("[data-nav-dark]")||u.removeClass("tms-nav-dark"),n.is("[data-nav-dark]")?(u.addClass("tms-nav-dark"),u.is("[data-featured-slider]")&&a("header").addClass("nav-dark")):u.is("[data-featured-slider]")&&a("header").removeClass("nav-dark"),w(n,d),u.parent().hasClass("tm-slider-parallax-container")&&d.parallax&&l(u,d),(n.children("img").data("loaded")||!n.children("img").length)&&b(n,d),v(u,d,n),t||(t="next"),t=d.carousel?1:"next"===t?1:-1;var y=m(u,d);A?d.carousel?p(S,1,-(r/y)*t,0,0,0,0,0,1,"50%","50%",d.speed,0,P[d.easing],d):(n.css({opacity:0,transition:"none",transform:"translate3d("+r*t+"px,"+c*t+"px, 0) scale3d("+g+", "+g+", "+g+")"}),clearTimeout(W),W=setTimeout(function(){p(O,1,-r*t,-c*t,0,0,0,0,g,"50%","50%",d.speed,0,P[d.easing],d),p(n,1,0,0,0,0,0,0,1,"50%","50%",d.speed,0,P[d.easing],d)},50)):d.carousel?(u.data("transitioning",!0),S.animate({opacity:1,left:-(r/y)*t+"px"},d.speed,d.easingFallback,function(){h(u,d)})):(u.data("transitioning",!0),n.css({left:i*t+"px",visibility:"visible"}).animate({opacity:1,left:"0px"},d.speed,d.easingFallback,function(){h(u,d)}),O.animate({left:-i*t+"px"},d.speed,d.easingFallback))},n(u,d,g)},l=function(e,i){var s=a(t);s.data("animating")||(s.data("animating",!0),t.requestAnimationFrame(function(){c(e,i),s.data("animating",!1)}))},c=function(e,i){var s=a(t),n=s.scrollTop(),r=(s.height(),e.parent().height()+e.parent().offset().top-n),o=n*i.parallaxSpeed,d=i.parallaxScale&&e.is("[data-parallax-scale-out]")?1.1+r/e.parent().height():i.parallaxScale&&e.is("[data-parallax-scale-in]")?2-r/e.parent().height():1;d=1>d?1:d;var l=i.parallaxFadeOut?r/e.parent().height():1,c=e.find("li.active"),p=c.is("[data-pause-on-scroll]")?!0:!1;if(!X&&A&&u(e.parent())){e.css({position:"fixed",transform:"translate3d( 0, "+-o+"px, 0)",opacity:l.toFixed(2)});var h=".active > img, .target > img, .active > iframe, .target > iframe, .active > video, .target > video";e.find(h).css({transform:"scale3d( "+d+","+d+", 1 )"}),p&&x(c,"play",i)}else e.css({position:"relative"}),p&&x(c,"pause",i)},u=function(e){var i=a(t).scrollTop(),s=i+a(t).height(),n=e.offset().top,r=n+e.outerHeight();return s>=n&&r>=i},p=function(e,t,i,s,n,r,o,d,l,c,u,p,g,f,m){var v=e.closest(".tm-slider-container");(e.hasClass("active")||e.hasClass("target")||e.hasClass("tms-slides"))&&(v.data("animate-first-slide")||v.data("transitioning",!0),m.onSlideBefore&&m.onSlideBefore());var b={};b.transform="translate3d("+i+"px, "+s+"px, "+n+"px) rotateX("+r+"deg) rotateY("+o+"deg) rotateZ("+d+"deg) scale3d("+l+", "+l+", "+l+")",b.transitionProperty=B+", opacity",b.transformOrigin=c+" "+u+" 0",b.transitionDuration=p+"ms",b.transitionDelay=g+"ms",b.transitionTimingFunction=f,b.visibility="visible",b.opacity=t,e.css(b).on(Y,function(e){e.stopPropagation(),a(this).off(Y),(a(this).hasClass("target")||a(this).hasClass("tms-slides")&&!v.data("animate-first-slide"))&&h(v,m),a(this).hasClass("tms-caption")&&a(this).css({transition:""}),v.data("animate-first-slide")&&v.data("animate-first-slide",!1)})},h=function(a,e){a.data("transitioning",!1),e.onSlideAfter&&e.onSlideAfter();var t=a.find("li.active"),i=a.find("li.target"),s=i.is("[data-video-bkg-youtube]")||i.is("[data-video-bkg-vimeo]")?!0:!1;return x(t,"pause",e),1===e.carouselVisible&&t.find(".tms-caption").not(".no-transition").css({display:"none",visibility:"hidden"}),e.carousel||t.css({visibility:"hidden"}),t.removeClass("active"),i.removeClass("target").addClass("active"),t=i,x(t,"play",e),e.carouselVisible>1?!1:void((!s||X)&&g(t,e))},g=function(e,t){e.find(".tms-caption").not(".no-transition").show().each(function(){var e=a(this),i=a(this).data("ox")?e.data("ox"):"50%",s=a(this).data("oy")?e.data("oy"):"50%",n=a(this).data("du")?e.data("du"):t.speed,r=a(this).data("de")?e.data("de"):0,o=a(this).data("e")?P[e.data("e")]:P[t.easing],d=null;A?(clearTimeout(d),d=setTimeout(function(){p(e,1,0,0,0,0,0,0,1,i,s,n,r,o)},500)):(o=t.easingFallback,e.delay(r).css({visibility:"visible"}).animate({opacity:1},n,o))})},f=function(a,e){var t=a.find(".tms-pagination");t.find(".active").removeClass("active"),t.find("#tms-pagination-"+e).addClass("active")},m=function(e,i){var s;return s=a(t).width()>=768&&a(t).width()<=959&&i.carouselVisible>3?3:a(t).width()>=480&&a(t).width()<=767&&i.carouselVisible>2?2:a(t).width()<=479?1:i.carouselVisible},v=function(e,t,i){if(!t.carousel)return!1;var s,n,r=e.find(".tms-slides"),o=e.find("li.active"),d=o.index(),l=e.find(".tms-pagination"),c=r.children().length,u=m(e,t),p=e.width()/u,h=0,g=null;r.children().each(function(e){t.carouselVisible=0===t.carouselVisible?1:t.carouselVisible,a(this).css({width:p+"px",opacity:1,visibility:"visible"}),h=h>a(this).outerHeight()?h:a(this).outerHeight()}),2===u&&d>r.children().length-2?(s=r.children().length-1,n=!0):3===u&&d>r.children().length-3?(s=r.children().length-2,n=!0):d>r.children().length-u?(s=r.children().length-u+1,n=!0):(s=d,n=!1),l.children().hide().slice(0,r.children().length-u+1).show(),n&&(o.removeClass("active"),r.find("li:nth-child("+s+")").addClass("active"),f(e,s)),A?(e.data("transitioning")||r.css({width:p*c+"px",transition:"none",transform:"translate3d("+-(p*s)+"px, 0, 0)"}),clearTimeout(g),g=setTimeout(function(){r.css({transitionProperty:"opacity, "+B,transitionDuration:t.speed+"ms"})},50)):r.css({width:p*c+"px",left:-(p*s)+"px"})},b=function(e,i){var s=e.closest(".tm-slider-container, .featured-media"),n=s.parent().width(),r=i.fsUseHeightOf?i.fsUseHeightOf.height():a(t).height(),o=s.data("refW"),d=s.data("refH"),l=i.fullscreen?a(t).width()/r:o/d,c=s.data("external-padding")?s.data("external-padding"):i.externalPadding;c=a.isNumeric(c)?c:2*parseFloat(a(c).css("padding"));var u=i.fullscreen||i.fullwidth?a(t).width()-c:n,p=i.fullscreen?r-c:i.carousel&&i.carouselVisible>1&&!i.carouselScaleHeight?d:i.fullwidth&&n/l>d?d-c:n/l-c,h=p<=i.scaleMinHeight?!0:!1,g=h?u/i.scaleMinHeight:u/p,f=i.carouselScaleHeight&&1===i.carouselVisible?!0:!1,m=i.forceFit||e.hasClass("tms-forcefit");if(s.data("newSW",u),s.data("newSH",p),i.carousel){var v=null;clearTimeout(v),s.css({width:Math.round(u)+"px"}),v=setTimeout(function(){s.css({height:s.data("scale-first")&&f?s.find("li:first-child").find(".tms-content-scalable, img").outerHeight()+"px":!s.data("scale-first")&&f?e.find(".tms-content-scalable, img").outerHeight():"auto"})},100)}else s.css({width:Math.round(u)+"px",height:p>i.scaleMinHeight||"auto"===i.scaleMinHeight?Math.round(p)+"px":i.scaleMinHeight+"px"}),i.parallax&&s.parent().css({height:s.height()+"px"}),p=p>i.scaleMinHeight||"auto"===i.scaleMinHeight?p:i.scaleMinHeight,s.data("newSH",p);if(!s.data("setup")||i.carousel&&i.carouselVisible>1)return!1;var b=e.is("[data-image]")?"image":"video",w=e.is("[data-video-bkg]")||e.is("[data-video-bkg-youtube]")||e.is("[data-video-bkg-vimeo]")?!0:!1,x=e.is("[data-video-ratio]")?parseFloat(e.data("video-ratio")):1.778;e.find("img, iframe, video, .mejs-container").not(".tms-caption img, .tms-caption iframe, .tms-caption video").each(function(){var t,s,n,r=50,o=p+r,d=u+r;if("image"===b?(t=a(this).width(),s=a(this).height()):"video"===b&&((!i.respectRatio&&!w||i.fullscreen&&!w)&&e.addClass("tms-video-no-ratio"),w?(t=i.fullscreen&&i.fullwidth?o*x:u,s=i.fullscreen&&i.fullwidth?o:u/x):(t=a(this).attr("width")&&u>a(this).attr("width")?a(this).attr("width"):u,s=m?t/x:t/x)),n=t/s,"image"===b&&i.fullscreen||m||"video"===b&&w){if(a(this).is("img")&&!a(this).data("loaded"))return!1;g>n?a(this).css({width:w?d+"px":i.fullwidth&&!m?"auto":u+"px",height:w?Math.round(d/n)+"px":Math.round(u/n)+"px",top:w?Math.floor((p-s)/2)+"px":Math.round(-((u/n-p)/2))+"px",left:w?-(r/2)+"px":0}):a(this).css({width:!i.fullwidth||m||w?Math.round(p*n)+"px":"auto",height:p+"px",top:0,left:Math.round(-((p*n-u)/2))+"px"})}else"video"===b&&a(this).css({width:Math.floor(t)+"px",height:Math.floor(s)+"px",top:Math.floor((p-s)/2)+"px",left:Math.floor((u-t)/2)+"px"})}),y(e,i)},y=function(e,t){var i=e.closest(".tm-slider-container"),s=i.data("newSW"),n=i.data("newSH"),r=i.data("refW"),o=i.data("refH");return!t.captionScaling||t.carouselVisible>1?!1:void e.find(".tms-caption").each(function(){if(!a(this).is("[data-no-scale]")){var e=a(this),i=e.data("x"),d=e.data("y"),l=e.data("w"),c=e.data("pt"),u=e.data("pr"),p=e.data("pb"),h=e.data("pl"),g=e.data("mt"),f=e.data("mr"),m=e.data("mb"),v=e.data("ml"),b=e.data("bt"),y=e.data("br"),w=e.data("bb"),x=e.data("bl"),S=e.data("fs"),O=0===e.data("lh")?S:e.data("lh"),F=e.is("[data-offsetx]")?parseFloat(e.data("offsetx")):0,k=e.is("[data-offsety]")?parseFloat(e.data("offsety")):0,I=0>s*(F/r)?s*(F/r):s*(F/r)>F?F:s*(F/r),C=0>n*(k/o)?s*(k/r):s*(k/r)>k?k:n*(k/o);t.fullwidth&&k>C&&0>C&&(C=k);var T;e.find("img, iframe, video").length&&(T=s*(l/r)>l?l:s*(l/r)>s?s:s*(l/r)),e.find("img").length||e.find("iframe, video").length?e.css({width:T+"px",height:e.children("iframe, video").length?T/1.778+"px":"auto"}):e.css({fontSize:s*(S/r)>S?S:s*(S/r)+"px",lineHeight:s*(O/r)>O?O+"px":s*(O/r)+"px",paddingTop:s*(c/r)>c?c:s*(c/r)+"px",paddingRight:s*(u/r)>u?u:s*(u/r)+"px",paddingBottom:s*(p/r)>p?p:s*(p/r)+"px",paddingLeft:s*(h/r)>h?h:s*(h/r)+"px",marginTop:s*(g/r)>g?g:s*(g/r)+"px",marginRight:s*(f/r)>f?f:s*(f/r)+"px",marginBottom:s*(m/r)>m?m:s*(m/r)+"px",marginLeft:s*(v/r)>v?v:s*(v/r)+"px",borderTopWidth:s*(b/r)>b?b:Math.ceil(s*(b/r))+"px",borderRightWidth:s*(y/r)>y?y:Math.ceil(s*(y/r))+"px",borderBottomWidth:s*(w/r)>w?w:Math.ceil(s*(w/r))+"px",borderLeftWidth:s*(x/r)>x?x:Math.ceil(s*(x/r))+"px",whiteSpace:"nowrap"}),e.css({top:"top"===d?0+C:"bottom"===d?n-e.outerHeight()-C:(n-e.outerHeight())/2+C+"px",left:"left"===i?0+I:"right"===i?s-e.outerWidth()-I:(s-e.outerWidth())/2+I+"px"})}})},w=function(e,t){return t.carouselVisible>1?!1:void e.find(".tms-caption").not(".no-transition").each(function(){var e=a(this),t=e.data("o")?parseFloat(e.data("o")):0,i=e.data("tx")?parseFloat(e.data("tx")):0,s=e.data("ty")?parseFloat(e.data("ty")):0,n=e.data("tz")?parseFloat(e.data("tz")):0,r=e.data("rx")?parseFloat(e.data("rx")):0,o=e.data("ry")?parseFloat(e.data("ry")):0,d=e.data("rz")?parseFloat(e.data("rz")):0,l=e.data("s")?parseFloat(e.data("s")):1;A?e.css({transition:"none",transform:"translate3d("+i+"px, "+s+"px, "+n+"px )rotateX("+r+"deg) rotateY("+o+"deg) rotateZ("+d+"deg) scale3d("+l+", "+l+", "+l+")",opacity:t}):e.css({opacity:0})})},x=function(e,t,i){if(!i.useVideoAPI||i.carouselVisible>1)return!1;var s;try{if(e.find("iframe").length){s="#"+e.find("iframe").attr("id");var n=a(s).attr("src");"undefined"!=typeof n&&n.indexOf("vimeo")>-1?(s=$f(a(s)[0]),"play"===t&&i.autoPlay?s.api("play"):s.api("pause")):"undefined"!=typeof n&&n.indexOf("youtu")>-1&&(s=s.replace("#",""),"play"===t&&i.autoPlay?S[s].playVideo():S[s].stopVideo())}else e.find("video").length&&(s="#"+e.find("video").attr("id"),"play"===t&&i.autoPlay?a(s)[0].play():a(s)[0].pause())}catch(r){}},S={},O=!1,F=!1,k=function(i,s,n){if(!n.useVideoAPI||n.carouselVisible>1)return!1;var r=s.closest("li"),d=s.attr("src"),l=new Date;if(s.attr("id","video-"+l.getTime()),"undefined"!=typeof d&&d.indexOf("vimeo")>-1){if(s.attr("src",s.attr("src")+"&amp;player_id="+s.attr("id")).addClass("vimeo"),r.is("[data-video-bkg-vimeo]")&&s.attr("src",s.attr("src")+"&amp;autoplay=0&amp;title=0&amp;byline=0&amp;portrait=0&amp;badge=0&amp;background=1").addClass("vimeo"),!O){O=!0;var c=e.createElement("script");c.src="http://a.vimeocdn.com/js/froogaloop2.min.js";var u=e.getElementsByTagName("script")[0];u.parentNode.insertBefore(c,u)}s.on("load",function(){var e=a(this),t="#"+e.attr("id"),s=$f(a(t)[0]),r=e.closest("li"),d=r.is(":first-child")?!0:!1;s.addEvent("ready",function(){d&&n.autoPlay&&s.api("play"),s.api("setVolume",1),(n.muteBkgVideo||r.is("[data-mute-video]"))&&s.api("setVolume",0),s.addEvent("playProgress",function(a){o(i,r,n),r.addClass("video-bkg-loaded"),g(r,n)}),s.addEvent("finish",function(){n.replayOnEnd&&s.api("play")})})})}else if("undefined"!=typeof d&&d.indexOf("youtu")>-1){if(s.addClass("youtube"),r.is("[data-video-bkg-youtube]")&&s.attr("src",s.attr("src")+"&amp;controls=0&amp;showinfo=0&amp;rel=0&amp;modestbranding=0&amp;loop=1&amp;iv_load_policy=3&amp;playlist="+s.attr("src").split("embed/")[1].substring(0,11)).addClass("youtube"),a("body").hasClass("safari-browser")&&r.hasClass("active")&&(s.attr("src",s.attr("src")+"&amp;autoplay=1"),o(i,r,n),r.addClass("video-bkg-loaded"),g(r,n)),!F){F=!0;var p=e.createElement("script");p.src="http://www.youtube.com/player_api";var h=e.getElementsByTagName("script")[0];h.parentNode.insertBefore(p,h)}var f=function(){a(".youtube").each(function(){var e=a(".youtube"),t=e.attr("id"),s=e.closest("li"),r=s.is(":first-child")?!0:!1;S[t]=new YT.Player(t,{events:{onStateChange:function(a){a.data===YT.PlayerState.PLAYING&&s.is("[data-video-bkg-youtube]")&&!X&&(o(i,s,n),s.addClass("video-bkg-loaded"),g(s,n)),a.data===YT.PlayerState.ENDED&&n.replayOnEnd&&S[t].playVideo()},onReady:function(a){r&&n.autoPlay&&S[t].playVideo(),(n.muteBkgVideo||s.is("[data-mute-video]"))&&S[t].mute()},onError:function(a){2===a.data?console.log("Avalance Slider - YouTube Video: Check video ID"):100===a.data?console.log("Avalance Slider - YouTube Video: Video not found"):(101===a.data||150===a.data)&&console.log("Avalance Slider - YouTube Video: Owner does not allow this video to be played as an embeded video"),e.hide(),o(i,s,n),s.addClass("error"),g(s,n)}}})})};t.onYouTubePlayerAPIReady=function(){f()}}else if(s.is("video")){s.addClass("html5-video");var m=e.getElementById(s.attr("id")),v=r.is(":first-child")?!0:!1;v&&n.autoPlay&&(m.load(),m.autoplay=!0),(n.muteBkgVideo||r.is("[data-mute-video]"))&&(m.muted=n.muteBkgVideo),n.replayOnEnd&&(m.loop=!0)}},I=function(){var a={};return function(e,t,i){i||(i="id"),a[i]&&clearTimeout(a[i]),a[i]=setTimeout(e,t)}}();t.isRetinaDevice=function(){var a="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return this.devicePixelRatio>1||this.matchMedia&&this.matchMedia(a).matches?!0:!1};var C,T=e.body||e.documentElement,z=T.style,A=z.transition!==i||z.WebkitTransition!==i||z.MozTransition!==i||z.MsTransition!==i||z.OTransition!==i,H=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var V in H)z[H[V]]!==i&&(C="-"+H[V].replace("Transform","").toLowerCase());var B=C+"-transform",Y="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",P={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)",easeFastSlow:"cubic-bezier(.11,.69,.66,1.01)",easeBounceBack:"cubic-bezier(.16,1.36,.57,.96)",easeBounceBackHard:"cubic-bezier(.8,1.91,0,.94)",easeBounceIn:"cubic-bezier(.15,2.6,0,-0.2)",easeSwingInOut:"cubic-bezier(.35,3.8,0.3,-0.6)"},M={fadeIn:"opacity: 0;easing: swing;",slideInUpShort:"opacity:0;transY: 50px;easing:easeFastSlow;",slideInRightShort:"opacity:0;transX: 50px;easing:easeFastSlow;",slideInDownShort:"opacity:0;transY: -50px;easing:easeFastSlow;",slideInLeftShort:"opacity:0;transX: -50px;easing:easeFastSlow;",slideInUpLong:"opacity:0;transY: 250px;easing:easeFastSlow;",slideInRightLong:"opacity:0;transX: 250px;easing:easeFastSlow;",slideInDownLong:"opacity:0;transY: -250px;easing:easeFastSlow;",slideInLeftLong:"opacity:0;transX: -250px;easing:easeFastSlow;",bounceIn:"opacity:0;scale:0.7;easing:easeBounceIn;",bounceOut:"opacity:0;scale:1.4;easing:easeBounceIn;",bounceInUp:"opacity:0;transY: 250px;easing:easeBounceIn;",bounceInRight:"opacity:0;transX: 250px;easing:easeBounceIn;",bounceInDown:"opacity:0;transY: -250px;easing:easeBounceIn;",bounceInLeft:"opacity:0;transX: -250px;easing:easeBounceIn;",scaleIn:"opacity:0;scale: 0.6;easing:easeFastSlow;",scaleOut:"opacity:0;scale: 1.4;easing:easeFastSlow",flipInX:"opacity:0;rotateX: -180deg;easing:easeFastSlow;",flipInY:"opacity:0;rotateY: -180deg;easing:easeFastSlow;",spinInX:"opacity:0;rotateX: -540deg;easing:easeFastSlow;",spinInY:"opacity:0;rotateY: -540deg;easing:easeFastSlow;",helicopterIn:"opacity:0;scale: 0.6;rotateZ: -360deg;easing:easeFastSlow;",
helicopterOut:"opacity:0;scale: 1.4;rotateZ: -360deg;easing:easeFastSlow;",signSwingTop:"opacity:0;rotateX:-60deg;transOrigX:top;transOrigY:center;easing:easeSwingInOut;",signSwingRight:"opacity:0;rotateY:-60deg;transOrigX:right;transOrigY:center;easing:easeSwingInOut;",signSwingBottom:"opacity:0;rotateX:-60deg;transOrigX:bottom;transOrigY:center;easing:easeSwingInOut;",signSwingLeft:"opacity:0;rotateY:-60deg;transOrigX:left;transOrigY:center;easing:easeSwingInOut;",wiggleX:"opacity:0;rotateX:-90deg;transOrigX:center;transOrigY:center;easing:easeSwingInOut;",wiggleY:"opacity:0;rotateY:-90deg;transOrigX:center;transOrigY:center;easing:easeSwingInOut;",dropUp:"opacity:0;transY: 250px;rotateZ:60deg;transOrigX:left;transOrigY:top;easing:easeBounceBackHard;",dropDown:"opacity:0;transY: -250px;rotateZ:-60deg;transOrigX:left;transOrigY:top;easing:easeBounceBackHard;",rollInLeft:"opacity:0;transX: -250px;transY: 200px;rotateZ: -120px;transOrigX:left;transOrigY:top;easing:easeFastSlow;",rollInRight:"opacity:0;transX: 250px;transY: 200px;rotateZ: 120px;transOrigX:right;transOrigY:top;easing:easeFastSlow;",turnInRight:"opacity:0;transX: 250px;rotateX:20deg;rotateY:75deg;transOrigX:left;transOrigY:top;easing:easeBounceBack;",turnInLeft:"opacity:0;transX: -250px;rotateX:20deg;rotateY:-75deg;transOrigX:right;transOrigY:top;easing:easeBounceBack;"},X=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(X=!0),function(){for(var a=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[e[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[e[i]+"CancelAnimationFrame"]||t[e[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(e,i){var s=(new Date).getTime(),n=Math.max(0,16-(s-a)),r=t.setTimeout(function(){e(s+n)},n);return a=s+n,r}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(a){clearTimeout(a)})}(),a.fn.avalancheSlider=function(e){return this.each(function(){var t=a(this);if(!t.data("avalancheSlider")){var i=new d(this,e);t.data("avalancheSlider",i)}})},a.fn.avalancheSlider.tmsOpts={animation:"slide",scaleFactor:.2,parallax:!1,easing:"easeInOutQuint",easingFallback:"easeInOutQuint",speed:700,parallaxSpeed:.2,parallaxScale:!1,parallaxFadeOut:!1,navArrows:!0,navPagination:!0,navShowOnHover:!0,paginationType:"bullets",navKeyboard:!0,forceFit:!1,fullwidth:!1,fullscreen:!1,fsUseHeightOf:"",externalPadding:0,scaleUnder:1140,scaleMinHeight:214,captionScaling:!0,carousel:!1,carouselVisible:1,carouselScaleHeight:!1,autoAdvance:!0,showProgressBar:!0,interval:6e3,pauseOnHover:!0,useVideoAPI:!0,autoPlay:!0,replayOnEnd:!0,respectRatio:!0,muteBkgVideo:!1,lazyLoad:!0,retinaSupport:!0,retinaSupportMobile:!1,retinaSuffix:"@2x",onSetup:null,onLoadEnd:null,onSlideBefore:null,onSlideAfter:null,onSlideshowStart:null,onSlideshowPause:null,onSlideshowEnd:null}}(jQuery,document,window);